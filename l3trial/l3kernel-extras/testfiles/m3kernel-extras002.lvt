%
% Copyright (C) 2012 LaTeX3 Project
%

\documentclass{minimal}
\input{regression-test}

% Leave some padding so that the line numbers
% of the tests don't change later on.

\RequirePackage[log-functions,native-drivers]{expl3}
\RequirePackage{l3kernel-extras}

\begin{document}
\START
\AUTHOR{Bruno Le Floch}
\ExplSyntaxOn

\cs_generate_variant:Nn \tl_show:n { x , f }
\cs_set:Npn \AA { AAA }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\TEST { tl_use:Nnnn }
  {
    \TYPE { Test~ removed }
    % \tl_clear:N \l_tmpa_tl
    % \tl_show:x { \tl_use:Nnnn \l_tmpa_tl { ~and~ } { ,~ } { ,~and~ } }
    % \tl_put_right:Nn \l_tmpa_tl { \AA }
    % \tl_show:x { \tl_use:Nnnn \l_tmpa_tl { ~and~ } { ,~ } { ,~and~ } }
    % \tl_put_right:Nn \l_tmpa_tl { { } }
    % \tl_show:x { \tl_use:Nnnn \l_tmpa_tl { ~and~ } { ,~ } { ,~and~ } }
    % \tl_put_right:Nn \l_tmpa_tl { ~ }
    % \tl_show:x { \tl_use:Nnnn \l_tmpa_tl { ~and~ } { ,~ } { ,~and~ } }
    % \tl_put_right:Nn \l_tmpa_tl { { # \par } }
    % \tl_show:x { \tl_use:Nnnn \l_tmpa_tl { ~and~ } { ,~ } { ,~and~ } }
    % \tl_set:Nn \l_tmpa_tl { abcdef\g hi }
    % \tl_show:x { \tl_use:Nnnn \l_tmpa_tl { ~and~ } { ,~ } { ,~and~ } }
    % \tl_set:Nn \l_tmpa_tl { \AA \g { xyz } }
    % \tl_show:f { \tl_use:Nnnn \l_tmpa_tl { ~and~ } { ,~ } { ,~and~ } }
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\TEST { clist_use:Nnnn }
  {
    \clist_clear:N \l_tmpa_clist
    \tl_show:x { \clist_use:Nnnn \l_tmpa_clist { ~and~ } { ,~ } { ,~and~ } }
    \clist_put_right:Nn \l_tmpa_clist { \AA }
    \tl_show:x { \clist_use:Nnnn \l_tmpa_clist { ~and~ } { ,~ } { ,~and~ } }
    \clist_put_right:Nn \l_tmpa_clist { { } }
    \tl_show:x { \clist_use:Nnnn \l_tmpa_clist { ~and~ } { ,~ } { ,~and~ } }
    \clist_put_right:Nn \l_tmpa_clist { ~ }
    \tl_show:x { \clist_use:Nnnn \l_tmpa_clist { ~and~ } { ,~ } { ,~and~ } }
    \clist_put_right:Nn \l_tmpa_clist { { # \par } }
    \tl_show:x { \clist_use:Nnnn \l_tmpa_clist { ~and~ } { ,~ } { ,~and~ } }
    \clist_set:Nn \l_tmpa_clist { a , b , c , d , e , f , \g , h , i }
    \tl_show:x { \clist_use:Nnnn \l_tmpa_clist { ~and~ } { ,~ } { ,~and~ } }
    \clist_set:Nn \l_tmpa_clist { \AA , \g , { (x , y) } }
    \tl_show:f { \clist_use:Nnnn \l_tmpa_clist { ~and~ } { ,~ } { ,~and~ } }
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\TEST { seq_use:Nnnn }
  {
    \seq_clear:N \l_tmpa_seq
    \tl_show:x { \seq_use:Nnnn \l_tmpa_seq { ~and~ } { ,~ } { ,~and~ } }
    \seq_put_right:Nn \l_tmpa_seq { \AA }
    \tl_show:x { \seq_use:Nnnn \l_tmpa_seq { ~and~ } { ,~ } { ,~and~ } }
    \seq_put_right:Nn \l_tmpa_seq { }
    \tl_show:x { \seq_use:Nnnn \l_tmpa_seq { ~and~ } { ,~ } { ,~and~ } }
    \seq_put_right:Nn \l_tmpa_seq { ~ }
    \tl_show:x { \seq_use:Nnnn \l_tmpa_seq { ~and~ } { ,~ } { ,~and~ } }
    \seq_put_right:Nn \l_tmpa_seq { # \par }
    \tl_show:x { \seq_use:Nnnn \l_tmpa_seq { ~and~ } { ,~ } { ,~and~ } }
    \seq_set_from_clist:Nn \l_tmpa_seq { a , b , c , d , e , f , \g , h , i }
    \tl_show:x { \seq_use:Nnnn \l_tmpa_seq { ~and~ } { ,~ } { ,~and~ } }
    \seq_set_from_clist:Nn \l_tmpa_seq { \AA , \g , { (x , y) } }
    \tl_show:f { \seq_use:Nnnn \l_tmpa_seq { ~and~ } { ,~ } { ,~and~ } }
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\END
