%
% Copyright (C) 2010-2012 LaTeX3 Project
%

\documentclass{minimal}
\input{regression-test}

\RequirePackage{l3fp-new}

\begin{document}
\START
\AUTHOR{Joseph Wright}
\ExplSyntaxOn

\OMIT
\cs_new:Npn \fp_add:Nnn #1#2#3 { \fp_set:Nn #1 { (#2)+(#3) } \fp_show:N #1 }
\cs_new:Npn \fp_sub:Nnn #1#2#3 { \fp_set:Nn #1 { (#2)-(#3) } \fp_show:N #1 }
\cs_new:Npn \fp_mul:Nnn #1#2#3 { \fp_set:Nn #1 { (#2)*(#3) } \fp_show:N #1 }
\cs_new:Npn \fp_div:Nnn #1#2#3 { \fp_set:Nn #1 { (#2)/(#3) } \fp_show:N #1 }
\TIMO

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TEST { add }
  {
    \fp_add:Nnn \l_A_fp { 1.234 }  { 5.678 }
    \fp_add:Nnn \l_A_fp { -1.234 }  { 5.678 }
    \fp_add:Nnn \l_A_fp { 1.234 }  { -5.678 }
    \fp_add:Nnn \l_A_fp { -1.234 }  { -5.678 }
    \fp_add:Nnn \l_A_fp { 0 }  { 5.678 }
    \fp_add:Nnn \l_A_fp { 1.234 }  { 0 }
    \fp_add:Nn \l_A_fp { 1.234 }
    \fp_show:N \l_A_fp
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TEST { sub }
  {
    \fp_sub:Nnn \l_A_fp { 1.234 }  { 5.678 }
    \fp_sub:Nnn \l_A_fp { -1.234 }  { 5.678 }
    \fp_sub:Nnn \l_A_fp { 1.234 }  { -5.678 }
    \fp_sub:Nnn \l_A_fp { -1.234 }  { -5.678 }
    \fp_sub:Nnn \l_A_fp { 0 }  { 5.678 }
    \fp_sub:Nnn \l_A_fp { 1.234 }  { 0 }
    \fp_sub:Nn \l_A_fp { 1.234 }
    \fp_show:N \l_A_fp
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TEST { mul }
  {
    \fp_mul:Nnn \l_A_fp { 1.234 }  { 5.678 }
    \fp_mul:Nnn \l_A_fp { -1.234 }  { 5.678 }
    \fp_mul:Nnn \l_A_fp { 1.234 }  { -5.678 }
    \fp_mul:Nnn \l_A_fp { -1.234 }  { -5.678 }
    \fp_mul:Nnn \l_A_fp { 0 }  { 5.678 }
    \fp_mul:Nnn \l_A_fp { 1.234 }  { 0 }
    \fp_set:Nn \l_A_fp { 1.234 }
    \fp_mul:Nn \l_A_fp { 1.234 }
    \fp_show:N \l_A_fp
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TEST { div }
  {
    \fp_div:Nnn \l_A_fp { 1.234 }  { 5.678 }
    \fp_div:Nnn \l_A_fp { -1.234 }  { 5.678 }
    \fp_div:Nnn \l_A_fp { 1.234 }  { -5.678 }
    \fp_div:Nnn \l_A_fp { -1.234 }  { -5.678 }
    \fp_div:Nnn \l_A_fp { 0 }  { 5.678 }
    \fp_div:Nnn \l_A_fp { 1.234 }  { 0 }
    \fp_set:Nn \l_A_fp { 1.234 }
    \fp_div:Nn \l_A_fp { 1.234 }
    \fp_show:N \l_A_fp
  }

\END
