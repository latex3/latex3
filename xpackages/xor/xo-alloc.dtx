% \iffalse
%% File xo-alloc.dtx (C) Copyright 1999-2000 Frank Mittelbach, David Carlisle, Chris Rowley
%%                   (C) Copyright 2001,2004-2011 Frank Mittelbach, The LaTeX3 Project
%%                   (C) Copyright 2012 The LaTeX3 Project
%%
%% It may be distributed and/or modified under the conditions of the
%% LaTeX Project Public License (LPPL), either version 1.3c of this
%% license or (at your option) any later version.  The latest version
%% of this license is in the file
%%
%%    http://www.latex-project.org/lppl.txt
%%
%% This file is part of the ``xor bundle'' (The Work in LPPL)
%% and all files in that bundle must be distributed together.
%%
%% The released version of this bundle is available from CTAN.
%%
%% -----------------------------------------------------------------------
%%
%% The development version of the bundle can be found at
%%
%%    http://www.latex-project.org/svnroot/experimental/trunk/
%%
%% for those people who are interested.
%%
%%%%%%%%%%%
%% NOTE: %%
%%%%%%%%%%%
%%
%%   Snapshots taken from the repository represent work in progress and may
%%   not work or may contain conflicting material!  We therefore ask
%%   people _not_ to put them into distributions, archives, etc. without
%%   prior consultation with the LaTeX Project Team.
%%
%% -----------------------------------------------------------------------
%%
\RequirePackage{l3names}
\GetIdInfo $Id$
          {xo-alloc (part of xor)}
\ProvidesExplPackage{\ExplFileName}
  {\ExplFileDate}{\ExplFileVersion}{\ExplFileDescription}
% \fi
%
%    \begin{macrocode}
\newinsert\@kludgeins
%    \end{macrocode}
%
%    \begin{macrocode}
\newinsert\bx@A
\newinsert\bx@B
\newinsert\bx@C
\newinsert\bx@D
\newinsert\bx@E
\newinsert\bx@F
\newinsert\bx@G
\newinsert\bx@H
\newinsert\bx@I
\newinsert\bx@J
\newinsert\bx@K
\newinsert\bx@L
\newinsert\bx@M
\newinsert\bx@N
\newinsert\bx@O
\newinsert\bx@P
\newinsert\bx@Q
\newinsert\bx@R
%    \end{macrocode}
%
% like |\@next| but allocates to list if empty (so doesn't have the
% 4th argument) ....
%    \begin{macrocode}
\cs_set_nopar:Npn \@allocating@next#1#2{
  \seq_if_empty:NTF #2
  {
    \seq_gput_right:Nc#2{bx@\the\insc@unt}
    \exp_args:Nc \newinsert{bx@\the\insc@unt}
  }
  {}
  \seq_gpop:NN #2#1
}

\cs_new_nopar:Npn \xor_gpop_float:NNTF #1#2#3#4{
  \seq_if_empty:NTF #1
    {#4}
    { \seq_gpop:NN #1#2 
      #3 
    }
}
%    \end{macrocode}
%
% \begin{macro}{\seq_gput_right:Nc}
%     Used above
%    \begin{macrocode}
\cs_generate_variant:Nn \seq_gput_right:Nn {Nc}
%    \end{macrocode}
% \end{macro}
%
\endinput
