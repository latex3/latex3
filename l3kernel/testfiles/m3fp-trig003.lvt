%
% Copyright (C) 2013,2015,2018,2021 The LaTeX Project
%

\documentclass{minimal}
\input{regression-test}

\RequirePackage[enable-debug]{expl3}
\ExplSyntaxOn
\debug_on:n { check-declarations , deprecation , log-functions }
\ExplSyntaxOff

\begin{document}
\START
\AUTHOR{Bruno Le Floch}
\ExplSyntaxOn

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TESTEXP { Sine~in~degrees }
  {
    \fp_to_tl:n { sind(nan) } \NEWLINE
    \fp_to_tl:n { sind(inf) } \NEWLINE
    \fp_to_tl:n { sind(-inf) } \NEWLINE
    \fp_to_tl:n { sind(0) } \NEWLINE
    \fp_to_tl:n { sind(-0) } \NEWLINE
    \fp_to_tl:n { sind(1) } \NEWLINE
    \fp_to_tl:n { sind(-1) } \NEWLINE
    \fp_to_tl:n { sind(1e-1) } \NEWLINE
    \fp_to_tl:n { sind(1e-3) } \NEWLINE
    \fp_to_tl:n { sind(1e-5) } \NEWLINE
    \fp_to_tl:n { sind(1e-7) } \NEWLINE
    \fp_to_tl:n { sind(1e-9) } \NEWLINE
    \fp_to_tl:n { sind(1e-16) } \NEWLINE
    \fp_to_tl:n { sind(1e-30) } \NEWLINE
    \fp_to_tl:n { sind(1e-100) } \NEWLINE
    \fp_to_tl:n { sind(1e-10001) } \NEWLINE
    \fp_to_tl:n { sind(9.924e9999) } \NEWLINE
    \fp_to_tl:n { sind(11.11111111111111) } \NEWLINE
    \fp_to_tl:n { sind(22.22222222222222) } \NEWLINE
    \fp_to_tl:n { sind(33.33333333333333) } \NEWLINE
    \fp_to_tl:n { sind(44.44444444444444) } \NEWLINE
    \fp_to_tl:n { sind(55.55555555555555) } \NEWLINE
    \fp_to_tl:n { sind(66.66666666666666) } \NEWLINE
    \fp_to_tl:n { sind(77.77777777777777) } \NEWLINE
    \fp_to_tl:n { sind(88.88888888888888) } \NEWLINE
    \fp_to_tl:n { sind(99.99999999999999) } \NEWLINE
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TESTEXP { Cosine~in~degrees }
  {
    \fp_to_tl:n { cosd(nan) } \NEWLINE
    \fp_to_tl:n { cosd(inf) } \NEWLINE
    \fp_to_tl:n { cosd(-inf) } \NEWLINE
    \fp_to_tl:n { cosd(0) } \NEWLINE
    \fp_to_tl:n { cosd(-0) } \NEWLINE
    \fp_to_tl:n { cosd(1) } \NEWLINE
    \fp_to_tl:n { cosd(-1) } \NEWLINE
    \fp_to_tl:n { cosd(1e-1) } \NEWLINE
    \fp_to_tl:n { cosd(1e-3) } \NEWLINE
    \fp_to_tl:n { cosd(1e-5) } \NEWLINE
    \fp_to_tl:n { cosd(1e-7) } \NEWLINE
    \fp_to_tl:n { cosd(1e-9) } \NEWLINE
    \fp_to_tl:n { cosd(1e-16) } \NEWLINE
    \fp_to_tl:n { cosd(1e-30) } \NEWLINE
    \fp_to_tl:n { cosd(1e-100) } \NEWLINE
    \fp_to_tl:n { cosd(1e-10001) } \NEWLINE
    \fp_to_tl:n { cosd(9.924e9999) } \NEWLINE
    \fp_to_tl:n { cosd(11.11111111111111) } \NEWLINE
    \fp_to_tl:n { cosd(22.22222222222222) } \NEWLINE
    \fp_to_tl:n { cosd(33.33333333333333) } \NEWLINE
    \fp_to_tl:n { cosd(44.44444444444444) } \NEWLINE
    \fp_to_tl:n { cosd(55.55555555555555) } \NEWLINE
    \fp_to_tl:n { cosd(66.66666666666666) } \NEWLINE
    \fp_to_tl:n { cosd(77.77777777777777) } \NEWLINE
    \fp_to_tl:n { cosd(88.88888888888888) } \NEWLINE
    \fp_to_tl:n { cosd(99.99999999999999) } \NEWLINE
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TESTEXP { Tangent~in~degrees }
  {
    \fp_to_tl:n { tand(nan) } \NEWLINE
    \fp_to_tl:n { tand(inf) } \NEWLINE
    \fp_to_tl:n { tand(-inf) } \NEWLINE
    \fp_to_tl:n { tand(0) } \NEWLINE
    \fp_to_tl:n { tand(-0) } \NEWLINE
    \fp_to_tl:n { tand(1) } \NEWLINE
    \fp_to_tl:n { tand(-1) } \NEWLINE
    \fp_to_tl:n { tand(1e-1) } \NEWLINE
    \fp_to_tl:n { tand(1e-3) } \NEWLINE
    \fp_to_tl:n { tand(1e-5) } \NEWLINE
    \fp_to_tl:n { tand(1e-7) } \NEWLINE
    \fp_to_tl:n { tand(1e-9) } \NEWLINE
    \fp_to_tl:n { tand(1e-16) } \NEWLINE
    \fp_to_tl:n { tand(1e-30) } \NEWLINE
    \fp_to_tl:n { tand(1e-100) } \NEWLINE
    \fp_to_tl:n { tand(1e-10001) } \NEWLINE
    \fp_to_tl:n { tand(9.924e9999) } \NEWLINE
    \fp_to_tl:n { tand(11.11111111111111) } \NEWLINE
    \fp_to_tl:n { tand(22.22222222222222) } \NEWLINE
    \fp_to_tl:n { tand(33.33333333333333) } \NEWLINE
    \fp_to_tl:n { tand(44.44444444444444) } \NEWLINE
    \fp_to_tl:n { tand(55.55555555555555) } \NEWLINE
    \fp_to_tl:n { tand(66.66666666666666) } \NEWLINE
    \fp_to_tl:n { tand(77.77777777777777) } \NEWLINE
    \fp_to_tl:n { tand(88.88888888888888) } \NEWLINE
    \fp_to_tl:n { tand(99.99999999999999) } \NEWLINE
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TESTEXP { Cotangent~in~degrees }
  {
    \fp_to_tl:n { cotd(nan) } \NEWLINE
    \fp_to_tl:n { cotd(inf) } \NEWLINE
    \fp_to_tl:n { cotd(-inf) } \NEWLINE
    \fp_to_tl:n { cotd(0) } \NEWLINE
    \fp_to_tl:n { cotd(-0) } \NEWLINE
    \fp_to_tl:n { cotd(1) } \NEWLINE
    \fp_to_tl:n { cotd(-1) } \NEWLINE
    \fp_to_tl:n { cotd(1e-1) } \NEWLINE
    \fp_to_tl:n { cotd(1e-3) } \NEWLINE
    \fp_to_tl:n { cotd(1e-5) } \NEWLINE
    \fp_to_tl:n { cotd(1e-7) } \NEWLINE
    \fp_to_tl:n { cotd(1e-9) } \NEWLINE
    \fp_to_tl:n { cotd(1e-16) } \NEWLINE
    \fp_to_tl:n { cotd(1e-30) } \NEWLINE
    \fp_to_tl:n { cotd(1e-100) } \NEWLINE
    \fp_to_tl:n { cotd(1e-10001) } \NEWLINE
    \fp_to_tl:n { cotd(9.924e9999) } \NEWLINE
    \fp_to_tl:n { cotd(11.11111111111111) } \NEWLINE
    \fp_to_tl:n { cotd(22.22222222222222) } \NEWLINE
    \fp_to_tl:n { cotd(33.33333333333333) } \NEWLINE
    \fp_to_tl:n { cotd(44.44444444444444) } \NEWLINE
    \fp_to_tl:n { cotd(55.55555555555555) } \NEWLINE
    \fp_to_tl:n { cotd(66.66666666666666) } \NEWLINE
    \fp_to_tl:n { cotd(77.77777777777777) } \NEWLINE
    \fp_to_tl:n { cotd(88.88888888888888) } \NEWLINE
    \fp_to_tl:n { cotd(99.99999999999999) } \NEWLINE
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TESTEXP { Secant~in~degrees }
  {
    \fp_to_tl:n { secd(nan) } \NEWLINE
    \fp_to_tl:n { secd(inf) } \NEWLINE
    \fp_to_tl:n { secd(-inf) } \NEWLINE
    \fp_to_tl:n { secd(0) } \NEWLINE
    \fp_to_tl:n { secd(-0) } \NEWLINE
    \fp_to_tl:n { secd(1) } \NEWLINE
    \fp_to_tl:n { secd(-1) } \NEWLINE
    \fp_to_tl:n { secd(1e-1) } \NEWLINE
    \fp_to_tl:n { secd(1e-3) } \NEWLINE
    \fp_to_tl:n { secd(1e-5) } \NEWLINE
    \fp_to_tl:n { secd(1e-7) } \NEWLINE
    \fp_to_tl:n { secd(1e-9) } \NEWLINE
    \fp_to_tl:n { secd(1e-16) } \NEWLINE
    \fp_to_tl:n { secd(1e-30) } \NEWLINE
    \fp_to_tl:n { secd(1e-100) } \NEWLINE
    \fp_to_tl:n { secd(1e-10001) } \NEWLINE
    \fp_to_tl:n { secd(9.924e9999) } \NEWLINE
    \fp_to_tl:n { secd(11.11111111111111) } \NEWLINE
    \fp_to_tl:n { secd(22.22222222222222) } \NEWLINE
    \fp_to_tl:n { secd(33.33333333333333) } \NEWLINE
    \fp_to_tl:n { secd(44.44444444444444) } \NEWLINE
    \fp_to_tl:n { secd(55.55555555555555) } \NEWLINE
    \fp_to_tl:n { secd(66.66666666666666) } \NEWLINE
    \fp_to_tl:n { secd(77.77777777777777) } \NEWLINE
    \fp_to_tl:n { secd(88.88888888888888) } \NEWLINE
    \fp_to_tl:n { secd(99.99999999999999) } \NEWLINE
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TESTEXP { Cosecant~in~degrees }
  {
    \fp_to_tl:n { cscd(nan) } \NEWLINE
    \fp_to_tl:n { cscd(inf) } \NEWLINE
    \fp_to_tl:n { cscd(-inf) } \NEWLINE
    \fp_to_tl:n { cscd(0) } \NEWLINE
    \fp_to_tl:n { cscd(-0) } \NEWLINE
    \fp_to_tl:n { cscd(1) } \NEWLINE
    \fp_to_tl:n { cscd(-1) } \NEWLINE
    \fp_to_tl:n { cscd(1e-1) } \NEWLINE
    \fp_to_tl:n { cscd(1e-3) } \NEWLINE
    \fp_to_tl:n { cscd(1e-5) } \NEWLINE
    \fp_to_tl:n { cscd(1e-7) } \NEWLINE
    \fp_to_tl:n { cscd(1e-9) } \NEWLINE
    \fp_to_tl:n { cscd(1e-16) } \NEWLINE
    \fp_to_tl:n { cscd(1e-30) } \NEWLINE
    \fp_to_tl:n { cscd(1e-100) } \NEWLINE
    \fp_to_tl:n { cscd(1e-10001) } \NEWLINE
    \fp_to_tl:n { cscd(9.924e9999) } \NEWLINE
    \fp_to_tl:n { cscd(11.11111111111111) } \NEWLINE
    \fp_to_tl:n { cscd(22.22222222222222) } \NEWLINE
    \fp_to_tl:n { cscd(33.33333333333333) } \NEWLINE
    \fp_to_tl:n { cscd(44.44444444444444) } \NEWLINE
    \fp_to_tl:n { cscd(55.55555555555555) } \NEWLINE
    \fp_to_tl:n { cscd(66.66666666666666) } \NEWLINE
    \fp_to_tl:n { cscd(77.77777777777777) } \NEWLINE
    \fp_to_tl:n { cscd(88.88888888888888) } \NEWLINE
    \fp_to_tl:n { cscd(99.99999999999999) } \NEWLINE
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\OMIT
\cs_set:Npn \test:n #1 { \fp_to_tl:n { sind(#1) } \NEWLINE }
\TIMO
\TESTEXP { Sine~in~degrees~[0,10800]~step~180 }
  {
    \int_step_function:nnnN {0}{180}{10800} \test:n
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\OMIT
\cs_set:Npn \test:n #1 { \fp_to_tl:n { sind(#1) } \NEWLINE }
\TIMO
\TESTEXP { Sine~in~degrees~[-360,1080]~step~15 }
  {
    \int_step_function:nnnN {-360}{15}{1080} \test:n
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\OMIT
\cs_set:Npn \test:n #1 { \fp_to_tl:n { cosd(#1) } \NEWLINE }
\TIMO
\TESTEXP { Cos~in~degrees~check~quadrants~[-720,180]~step~15 }
  {
    \int_step_function:nnnN {-720}{15}{180} \test:n
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\OMIT
\cs_set:Npn \test:n #1 { \fp_to_tl:n { tand(#1) } \NEWLINE }
\TIMO
\TESTEXP { Tan~in~degrees~check~quadrants~[-720,180]~step~15 }
  {
    \int_step_function:nnnN {-720}{15}{180} \test:n
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\OMIT
\cs_set:Npn \test:n #1 { \fp_to_tl:n { cotd(#1) } \NEWLINE }
\TIMO
\TESTEXP { Cot~in~degrees~check~quadrants~[-720,180]~step~15 }
  {
    \int_step_function:nnnN {-720}{15}{180} \test:n
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\OMIT
\cs_set:Npn \test:n #1 { \fp_to_tl:n { secd(#1) } \NEWLINE }
\TIMO
\TESTEXP { Sec~in~degrees~check~quadrants~[-180,720]~step~15 }
  {
    \int_step_function:nnnN {-180}{15}{720} \test:n
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\OMIT
\cs_set:Npn \test:n #1 { \fp_to_tl:n { cscd(#1) } \NEWLINE }
\TIMO
\TESTEXP { Csc~in~degrees~check~quadrants~[-180,720]~step~15 }
  {
    \int_step_function:nnnN {-180}{15}{720} \test:n
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\END
