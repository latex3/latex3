%
% Copyright (C) 2012 LaTeX3 Project
%

\documentclass{minimal}
\input{regression-test}

\RequirePackage[check-declarations,log-functions]{expl3}

\begin{document}
\START
\AUTHOR{Bruno Le Floch}
\ExplSyntaxOn

\OMIT
% Test that the category codes are all 12.
\cs_set_protected:Npn \test:n #1
  {
    \exp_args:No \tl_if_eq:nnTF { \tl_to_str:n {#1} } {#1}
      { \TRUE } { \ERROR }
  }
\cs_generate_variant:Nn \test:n { x }
\TIMO


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TEST { fp_to_scientific~catcodes }
  {
    \test:x { \fp_to_scientific:n { 0 } }
    \test:x { \fp_to_scientific:n { 1 } }
    \test:x { \fp_to_scientific:n { 1e23 } }
    \test:x { \fp_to_scientific:n { -1e-23 } }
    \test:x { \fp_to_scientific:n { inf } }
    \test:x { \fp_to_scientific:n { nan } }
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TEST { fp_to_decimal~catcodes }
  {
    \test:x { \fp_to_decimal:n { 0 } }
    \test:x { \fp_to_decimal:n { 1 } }
    \test:x { \fp_to_decimal:n { 1e23 } }
    \test:x { \fp_to_decimal:n { -1e-23 } }
    \test:x { \fp_to_decimal:n { inf } }
    \test:x { \fp_to_decimal:n { nan } }
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TEST { fp_to_tl~catcodes }
  {
    \test:x { \fp_to_tl:n { 0 } }
    \test:x { \fp_to_tl:n { 1 } }
    \test:x { \fp_to_tl:n { 1e23 } }
    \test:x { \fp_to_tl:n { -1e-23 } }
    \test:x { \fp_to_tl:n { inf } }
    \test:x { \fp_to_tl:n { nan } }
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TEST { fp_to_dim~catcodes }
  {
    \test:x { \fp_to_dim:n { 0 } }
    \test:x { \fp_to_dim:n { 1 } }
    \test:x { \fp_to_dim:n { 1e23 } }
    \test:x { \fp_to_dim:n { -1e-23 } }
    \test:x { \fp_to_dim:n { inf } }
    \test:x { \fp_to_dim:n { nan } }
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TEST { fp_to_int~catcodes }
  {
    \test:x { \fp_to_int:n { 0 } }
    \test:x { \fp_to_int:n { 1 } }
    \test:x { \fp_to_int:n { 1e23 } }
    \test:x { \fp_to_int:n { -1e-23 } }
    \test:x { \fp_to_int:n { inf } }
    \test:x { \fp_to_int:n { nan } }
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TEST { fp_to_eval~catcodes }
  {
    \test:x { \fp_eval:n { 0 } }
    \test:x { \fp_eval:n { 1 } }
    \test:x { \fp_eval:n { 1e23 } }
    \test:x { \fp_eval:n { -1e-23 } }
    \test:x { \fp_eval:n { inf } }
    \test:x { \fp_eval:n { nan } }
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TEST { fp_to_abs~catcodes }
  {
    \test:x { \fp_abs:n { 0 } }
    \test:x { \fp_abs:n { 1 } }
    \test:x { \fp_abs:n { 1e23 } }
    \test:x { \fp_abs:n { -1e-23 } }
    \test:x { \fp_abs:n { inf } }
    \test:x { \fp_abs:n { nan } }
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\END
