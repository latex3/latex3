\documentclass{minimal}
\input{regression-test}

\RequirePackage[enable-debug]{expl3}
\RequirePackage{l3benchmark}
\ExplSyntaxOn
\debug_on:n { check-declarations , deprecation , log-functions }
\ExplSyntaxOff

\START
\ExplSyntaxOn

\fp_gset:Nn \g_benchmark_duration_target_fp { 0.01 }

\OMIT
\fp_new:N \l_test_fast_fp
\fp_new:N \l_test_slow_fp
\TIMO

\TEST { benchmark_storing_results }
  {
    \benchmark_get_results:nNN { \prg_do_nothing: }
      \l_tmpa_fp \l_test_fast_fp
    \benchmark_get_results:nNN { \int_zero:N \l_tmpa_int }
      \l_tmpb_fp \l_test_slow_fp
    \fp_compare:nTF
      {
        (\l_tmpa_fp < \l_tmpb_fp)
        && (\l_test_fast_fp < \l_test_slow_fp)
      }
      { \TRUE }
      { \FALSE }
    \benchmark_get_time:nN { \prg_do_nothing: } \l_test_fast_fp
    \benchmark_get_time:nN { \int_zero:N \l_tmpa_int } \l_test_slow_fp
    \fp_compare:nNnTF \l_test_fast_fp < \l_test_slow_fp
      { \TRUE }
      { \FALSE }
    \benchmark_get_ops:nN { \prg_do_nothing: } \l_test_fast_fp
    \benchmark_get_ops:nN { \int_zero:N \l_tmpa_int } \l_test_slow_fp
    \fp_compare:nNnTF \l_test_fast_fp < \l_test_slow_fp
      { \TRUE }
      { \FALSE }
  }

\END
