%% Copyright (C) 2009-2018
%%
%%      by  Elie Roux      <elie.roux@telecom-bretagne.eu>
%%      and Khaled Hosny   <khaledhosny@eglug.org>
%%      and Philipp Gesang <phg@phi-gamma.net>
%%      and Dohyun Kim     <nomosnomos@gmail.com>
%%      and David Carlisle <d.p.carlisle@gmail.com>
%%
%% This file is part of Luaotfload.
%%
%%        Home:      https://github.com/lualatex/luaotfload
%%Current home: https://github.com/u-fischer/luaotfload
%%      Support:   <lualatex-dev@tug.org>.
%%
%% Luaotfload is under the GPL v2.0 (exactly) license.
%%
%% ----------------------------------------------------------------------------
%%
%% Luaotfload is free software; you can redistribute it and/or
%% modify it under the terms of the GNU General Public License
%% as published by the Free Software Foundation; version 2
%% of the License.
%%
%% Luaotfload is distributed in the hope that it will be useful,
%% but WITHOUT ANY WARRANTY; without even the implied warranty of
%% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
%% GNU General Public License for more details.
%%
%% You should have received a copy of the GNU General Public License
%% along with Luaotfload; if not, see <http://www.gnu.org/licenses/>.
%%
%% ----------------------------------------------------------------------------
%%
%% Classical Plain+\LATEX package initialization.
%%
\csname ifluaotfloadloaded\endcsname
\let\ifluaotfloadloaded\endinput
\ifx\newluafunction\undefined
  \input ltluatex
\fi
\ifdefined\ProvidesPackage
  \ProvidesPackage{luaotfload}%
    [2019/09/13 v3.00  OpenType layout system]
\fi
\directlua{
  if xpcall(function ()%
             require('luaotfload-main')%
            end,texio.write_nl) then %
  local _void = luaotfload.main ()%
  else %
  texio.write_nl('Error in luaotfload - loading aborted')%
  end %
}
